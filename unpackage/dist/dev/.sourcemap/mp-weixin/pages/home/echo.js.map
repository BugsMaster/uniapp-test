{"version":3,"sources":["webpack:///E:/IMDS-smart/pages/home/echo.vue","webpack:///E:/IMDS-smart/pages/home/echo.vue?c339","webpack:///E:/IMDS-smart/pages/home/echo.vue?58de","webpack:///E:/IMDS-smart/pages/home/echo.vue?ffc1","webpack:///E:/IMDS-smart/pages/home/echo.vue?e32f","webpack:///E:/IMDS-smart/pages/home/echo.vue?578a","webpack:///E:/IMDS-smart/pages/home/echo.vue?d3e9"],"names":["voicPlugin","requirePlugin","voicManager","getRecordRecognitionManager","data","currentText","translateText","isSpeaking","onLoad","console","log","getApp","initRecord","onShow","methods","streamRecord","start","lang","uni","vibrateShort","streamRecordEnd","stop","onStop","res","text","result","orderList","isOrderValible","i","length","indexOf","api","remoteCtrl","content","then","showToast","title","duration"],"mappings":"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","file":"pages/home/echo.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '../../common/api';\nconst voicPlugin = requirePlugin(\"WechatSI\");\nconst voicManager = voicPlugin.getRecordRecognitionManager();\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcurrentText: '',\n\t\t\ttranslateText: '',\n\t\t\tisSpeaking: false,\n\t\t};\n\t},\n\n\tonLoad() {\n\t\tconsole.log(getApp(), '+++')\n\t\tthis.initRecord();\n\t},\n\tonShow() {},\n\tmethods: {\n\t\tstreamRecord: function() {\n\t\t\tvoicManager.start({\n\t\t\t\tlang: 'zh_CN',\n\t\t\t})\n\t\t\tuni.vibrateShort();\n\t\t\tthis.isSpeaking = true;\n\t\t},\n\t\tstreamRecordEnd: function() {\n\t\t\tvoicManager.stop();\n\t\t\tuni.vibrateShort();\n\t\t\tthis.isSpeaking = false;\n\t\t},\n\t\tinitRecord: function() { //有新的识别内容返回，则会调用此事件\n\t\t\t// voicManager.onRecognize = (res) => {\n\t\t\t// \tlet text = res.result\n\t\t\t// \tthis.currentText=text;\n\t\t\t// } \n\t\t\t// 识别结束事件\n\t\t\tvoicManager.onStop = (res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tlet text = res.result\n\t\t\t\tif (text == '') { // 用户没有说话，可以做一下提示处理...\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.currentText = text;\n\t\t\t\t// 得到完整识别内容就可以去翻译了\n\t\t\t\tlet orderList = [\n\t\t\t\t\t'密云',\n\t\t\t\t\t'金坛',\n\t\t\t\t\t'可视化',\n\t\t\t\t\t'设备列表',\n\t\t\t\t\t'历史数据',\n\t\t\t\t\t'任务中心',\n\t\t\t\t\t'日报报表',\n\t\t\t\t\t'知识库',\n\t\t\t\t\t'首页',\n\t\t\t\t\t'后退'\n\t\t\t\t]\n\t\t\t\tlet isOrderValible = false;\n\t\t\t\tfor (let i = 0; i < orderList.length; i++) {\n\t\t\t\t\tif (text.indexOf(orderList[i]) > -1) {\n\t\t\t\t\t\tapi.remoteCtrl({\n\t\t\t\t\t\t\tcontent: i + 1\n\t\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '远程命令已发出',\n\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\tisOrderValible = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!isOrderValible) {\n\t\t\t\t\tapi.remoteCtrl({\n\t\t\t\t\t\tcontent: text\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '远程命令已发出',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// translateTextAction: function() {\n\t\t// \tlet lfrom = 'zh_CN';\n\t\t// \tlet lto = 'en_US';\n\t\t// \tvoicPlugin.translate({\n\t\t// \t\tlfrom: lfrom,\n\t\t// \t\tlto: lto,\n\t\t// \t\tcontent: this.data.currentText,\n\t\t// \t\ttts: true, // 需要合成语音\n\t\t// \t\tsuccess: (resTrans) => { // 翻译可以得到 翻译文本，翻译文本的合成语音，合成语音的过期时间\n\t\t// \t\t\tlet text = resTrans.result;\n\t\t// \t\t\tthis.translateText=text;\n\t\t// \t\t\t// this.setData({\n\t\t// \t\t\t// \ttranslateText: text,\n\t\t// \t\t\t// }); // 得到合成语音让它自动播放出来\n\t\t// \t\t\t// wx.playBackgroundAudio({\n\t\t// \t\t\t// \tdataUrl: resTrans.filename,\n\t\t// \t\t\t// \ttitle: '',\n\t\t// \t\t\t// });\n\t\t// \t\t}\n\t\t// \t})\n\t\t// },\n\t},\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./echo.vue?vue&type=template&id=10b7cff4&scoped=true&\"\nimport script from \"./echo.vue?vue&type=script&lang=js&\"\nexport * from \"./echo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./echo.vue?vue&type=style&index=0&id=10b7cff4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10b7cff4\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('10b7cff4', component.options)\n    } else {\n      api.reload('10b7cff4', component.options)\n    }\n    module.hot.accept(\"./echo.vue?vue&type=template&id=10b7cff4&scoped=true&\", function () {\n      api.rerender('10b7cff4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/IMDS-smart/pages/home/echo.vue\"\nexport default component.exports","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echo.vue?vue&type=script&lang=js&\"","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echo.vue?vue&type=style&index=0&id=10b7cff4&scoped=true&lang=scss&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echo.vue?vue&type=style&index=0&id=10b7cff4&scoped=true&lang=scss&\"","export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echo.vue?vue&type=template&id=10b7cff4&scoped=true&\""],"sourceRoot":""}